var J=document.createElement("div"),R=J;var _=class{constructor(){this.event={}}subscribe(t,s){this.event[t]||(this.event[t]=[]),!(this.event[t].indexOf(s)>-1)&&this.event[t].push(s)}unSubscribe(t,s){if(!this.event[t])return;let i=this.event[t].indexOf(s);i>-1&&this.event[t].splice(i,1)}dispatch(t,s){!this.event[t]||this.event[t].forEach(i=>i(s))}},K=new _,D=K;var C=async e=>{let t=await import(`../pages/${e}`);return console.log(t),t.default},G={get"#index"(){return C("Landing.js")},get"#projects"(){return C("Work.js")},get"#experience"(){return C("Experience.js")},get"#aboutme"(){return C("AboutMe.js")}},O=G;var X=0,v={components:[],check:function(){v.components.forEach(e=>{!document.contains(e.node)&&!e[m]&&(console.log("exit",e.node),e.exit&&e.exit(),v.components.filter(t=>t!=e))})},add:function(e,t){this.components.indexOf(e)>-1||this.components.push(e)}},W="number string undefined".split(" "),P=e=>{if(!W.includes(typeof e))throw`Argument is not an string, number or undefined : '${e}' in primitiveDispatcher() method.`},I=e=>{if(!Array.isArray(e))throw`Argument is not an array: '${e}' in arrayDispacher() method.`},E=Symbol("firstTime"),S=Symbol("stateIndex"),T=Symbol("effectIndex"),y=Symbol("defaultStateDone"),F=Symbol("setProperties"),q=Symbol("addChild"),p=Symbol("children"),A=Symbol("subComponent"),H=Symbol("listeners"),N=Symbol("settingListener"),x=Symbol("exec"),B=Symbol("refresh"),w=Symbol("re-render"),d=Symbol("useEffectCallbacks"),f=Symbol("useEffectCallbacksPrev"),L=Symbol("runSideEffects"),m=Symbol("hookBehaviour"),z={runAsHook:function(){this[m]=!0,this[S]=0,this[T]=0},useEffect:function(e,t=[]){if(!this[m]){let s=JSON.stringify(t),i=this[d].length;this[d].push(i),this[f][i]=this[f][i]?this[f][i]:{index:i,storedHash:void 0,currentHash:s,sideEffet:e,cleaner:void 0},this[f][i].sideEffet=e,this[f][i].currentHash=s}if(this[m]){let s=this[T]++,i=JSON.stringify(t);this[d].push(s),this[f][s]=this[f][s]?this[f][s]:{index:s,storedHash:void 0,currentHash:i,sideEffet:e,cleaner:void 0};let n=this[f][s];n.storedHash!=i&&(typeof n.cleaner=="function"&&n.cleaner(),n.cleaner=n.sideEffet(parent),n.storedHash=i,typeof clean=="function"&&(this.exit=()=>{this[f].forEach(o=>{o.cleaner()})},v.add(this,clean)))}},beforeAppendChild:function(e){},prop:{},noProp:["beforeAppendChild","prop","enableSubComponents","enableEvents","kiwiSelector","useState","noProp"],enableSubComponents:function(e){if(Array.isArray(e))throw"this.enableSubComponents() only allow Objects but not allows arrays."+`
`+this.constructor;this[A]=e},enableEvents:function(e){this[H]=Array.isArray(e)?e:[e]},kiwiSelector:function(e){let t=this[x]();document.querySelector(e).appendChild(t)},useState:function(e){let t=e;this.state||(this.state={});let s=this[S]++;return this[y]?t=this.state[s]:this.state[s]=t,[typeof t=="undefined"?t:JSON.parse(JSON.stringify(this.state[s])),i=>{typeof this.state[s]=="object"&&Object.assign(this.state[s],typeof i=="function"?i():i),this.state[s]=i,this[m]&&(this[S]=0,this[y]=!0),this[w](),v.check()}]},useReducer:function(e,t={}){return this[y]||(this.state=t),[this.state,s=>{this.state=e(this.state,s),this[w]()}]},arrayDispatcher:function(e=[]){I(e);let t=[];return[{get items(){return[...e]},subscribe:function(n){t.push(n)}},n=>{I(e),e.length=0,n.forEach(o=>{e.push(o)}),t.forEach(o=>o([...e]))},[...e]]},variableDispatcher:function(e){P(e);let t=[],s=e;return[{get value(){return s},subscribe:function(o){t.push(o)}},o=>{P(o),s=o,t.forEach(r=>r(o))},s]}},V=function(){return this[m]=!1,this[L]=function(e){!this[d]||(this[d].forEach((t,s)=>{let i=this[f][s];if(i.storedHash!=i.currentHash){typeof i.cleaner=="function"&&(console.log("cleaner ruuning"),i.cleaner());let n=i.sideEffet(e);i.cleaner=n,i.storedHash=i.currentHash}}),this[d]=[])},this[d]=[],this[f]=[],this[E]=!0,this[S]=0,this[T]=0,this[y]=!1,this[F]=function(e){let t={};for(let s=0;s<e.length;s++)if(typeof this[e[s].value]=="function")t[e[s].name]=this.noProp.includes(e[s].value)?e[s].value:this[e[s].value](),this.noProp.includes(e[s].value)&&console.warn(`Atttribute Value '${e[s].value}' as string due it is a reserved keyword`);else try{t[e[s].name]=JSON.parse(e[s].value)}catch{t[e[s].name]=e[s].value}return t},this[q]=function(e){return Object.keys(this[A]).map(t=>{let s=this[A][t],i=e.querySelectorAll(t.toLowerCase());this[p]=this[p]||[],this[p].forEach(n=>{n.free=!0});for(let n=0;n<i.length;n++){let o=i[n],r=this[F](o.attributes),c=null,h=0,a=!1;for(h=0;h<this[p].length;h++){let g=this[p][h];if(g.instanceComponet.constructor.name==t&&!!g.free){c=g.instanceComponet,a=!0,this[p][h]={free:!1,instanceComponet:g.instanceComponet};break}}let l=a?c:M(s);a||(this[p][n]={free:!1,instanceComponet:l}),l.prop={},Object.assign(l.prop,r);let j=l[x]();o.parentNode.replaceChild(j,o)}}),e},this[A]=[],this[H]=[],this[N]=function(e,t=null){this[H].map(s=>{let i=e.querySelectorAll("["+s+"]");for(let n=0;n<i.length;n++){let o=i[n],r=o.getAttribute(s);if(!r)throw"There is no attribute '"+s+`' value on:

`+o.outerHTML;t?o.removeEventListener(s,this[r]):o.addEventListener(s,this[r])}})},this[B]=function(e,t){let s=!0;function i(r,c){let h=!1;r.lenght==c.lenght&&r.forEach((a,l)=>{if(a.textContent!=c[l].textContent){if(a.nodeName!=c[l].nodeName)return;a.childNodes[0]&&c[l].childNodes[0]?a.childNodes[0].textContent=c[l].childNodes[0].textContent:a.textContent=c[l].textContent,s=!1,h=!0}}),h||(s=!1)}let n=e.querySelectorAll("*"),o=t.querySelectorAll("*");if(n.length!=t.querySelectorAll("*").length)return!0;n.forEach((r,c)=>{r.tagName!=o[c].tagName&&r.parentNode.replaceChild(o[c].cloneNode(!0),r)});try{n.forEach((r,c)=>{let h=o[c],a={};for(let u of r.attributes)a[u.name]=u.value;for(let u of h.attributes)a[u.name]=u.value;let l=!1;if(Object.keys(a).forEach(u=>{h.getAttribute(u)==null?(r.removeAttribute(u),l=!0):r.getAttribute(u)!=h.getAttribute(u)&&(r.setAttribute(u,h.getAttribute(u)),l=!0)}),l)return!1;let j=r.childNodes,g=h.childNodes;i(j,g)})}catch(r){console.error("SOMETHING WRONG: ",r)}return s},this[w]=function(){try{let e=this.node,t=this.node.parentNode;this[N](this.node.parentNode,!0);let s=this[x](!0);this[B](e,s)?e.parentNode.replaceChild(s,e):(this.node=e,this[N](t)),this[L](t)}catch{}},this[x]=function(e){var t=document.createElement("section");this[S]=0,Array.prototype.toString=function(){return this.join("")};let s=this.constructor(this.prop);if(this[m])return s;let i=s.split("/>");if(i.length>1){let o=i.pop(),r=i.map(c=>{let h=c.split("<"),l=h[h.length-1].split(" ")[0];return c+`></${l}>`});r.push(o),s=r.join("")}Array.prototype.toString=function(){return this.join(",")},this[y]=!0,t.innerHTML=s,this[N](t),this[q](t);let n=this[E];if(this[E]&&(this[E]=!1,this.beforeAppendChild(t)),n&&this[L](t),this.node=t.children[0],!this.node)throw`Check the return of ${this.constructor.name}
${this.constructor.toString()}`;return this.node},this},b=V.bind(z)();function Q(){}var M=e=>{let t=new Q,s=i=>{t[i]=typeof b[i]=="object"?Array.isArray(b[i])?[]:{}:typeof b[i]=="function"?b[i].bind(t):b[i]};return Object.keys(b).map(s),Object.getOwnPropertySymbols(b).forEach(s),t.constructor=e,t[E]&&(t.id=X++),t},$=M;var k=class{constructor(){D.subscribe("routing",this.goto),this.prev=null,this.cache={}}closePage=t=>{R.appendChild(t.node)};goto=t=>{t.includes("/")&&(t=t.replace("/","#").replace(".html","")),t==""&&(t="#index"),O[t]instanceof Promise&&O[t].then(s=>{if(!this.cache[t]){let i=$(s);i.kiwiSelector("body"),this.cache[t]=i}this.redirect(t)}).catch(s=>{console.error("error",s)})};redirect=t=>{let s=this.cache[t].node;history.pushState({page:t},null,t),this.prev&&this.closePage(this.prev),document.body.appendChild(s),this.prev=this.cache[t]};restore=t=>{this.prev&&this.closePage(this.prev);let s=this.cache[t].node;document.body.appendChild(s),this.prev=this.cache[t]};start(){this.goto(location.hash),window.addEventListener("popstate",this.onpopstate)}onpopstate=t=>{!t.state||this.restore(t.state.page)}},U=k;var Y=new U;Y.start();
//# sourceMappingURL=index.js.map
